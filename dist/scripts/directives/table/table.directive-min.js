!function(){"use strict";angular.module("tableModule",["jm.i18next","ngAnimate","ngSanitize","ngRoute","oitozero.ngSweetAlert"]).directive("myTable",function(){return{restrict:"EA",templateUrl:"./app/scripts/directives/table/table.html",scope:{config:"=",list:"=",link:"="},controller:"myTableCtrl",controllerAs:"vmTable"}}).controller("myTableCtrl",function(e,o,n){var t=this;t.config=e.config,t.link=e.link,t.list=e.list,t.arrCheckedBox=[],t.path=n.path(),t.toggleModal=function(e){t.link.name=e.name,t.link.isOpenModal=!0,(t.config.toggleModalCb(e)||angular.noop)()},t.openAddForm=function(){r(),t.link.isAddForm=!0,(t.config.openAddFormCb||angular.noop)()},t.openEditForm=function(e){r(),t.link.isEditForm=!0,(t.config.openEditFormCb(e)||angular.noop)()},t.selectAllCheckbox=function(){(t.config.selectAllCheckboxCb||angular.noop)()},t.removeItem=function(n){var r=t.config.list.indexOf(n);swal({title:`"${n.name}"`,text:"You won't see it anymore when you press Delete :)",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&(t.config.list.splice(r,1),e.$apply(),o.reload())}),(t.config.removeItemCb||angular.noop)()},t.removeItems=function(){var e,o=[],n=[];angular.forEach(t.config.list,function(t){t.checked?(o.push(t),e=o.length):n.push(t)}),(t.config.removeItemsCb(e,n)||angular.noop)()};var r=function(){t.link.showPanel=!1,t.link.showTable=!1,t.link.isOpenForm=!0,t.config.isCheckedAll=!1,angular.forEach(t.list,function(e){e.checked=!1})};t.toggleCheckboxSelection=function(e,o){t.arrTemp=[];var n={checked:e.currentTarget.checked,id:o=o};if(console.log(e.currentTarget.checked),Array.isArray(t.arrCheckedBox)&&t.arrCheckedBox.length)for(let e=0;e<t.arrCheckedBox.length;e++)t.arrCheckedBox[e].id!==n.id?t.arrCheckedBox.push(n):t.arrCheckedBox[e]=n;else t.arrCheckedBox.push(n),t.config.checked=!0;t.arrCheckedBox=t.removeDuplicate(t.arrCheckedBox,"checked","id");for(let e=0;e<t.arrCheckedBox.length;e++)t.arrTemp.push(t.arrCheckedBox[e].checked);t.arrTemp.indexOf(!0)>=0?t.config.checked=!0:t.config.checked=!1},t.removeDuplicate=function(e,o,n){const t=[o,n];return e.filter((e=>o=>(o=>!e.has(o)&&e.add(o))(t.map(e=>o[e]).join("|")))(new Set))},$(document).ready(function(){$("body").tooltip({selector:"[data-toggle=tooltip]"})})})}();